## 타이밍 게임 플로우 정리

### 0) 요약

- 페이지 활성화: 30초
- 시작 전 타임아웃: 서버 시작 기준 15초 경과 시
- 시작 후 타임아웃: 게임 시작 후 15초 경과 시
- 타임아웃 시 서버로 보내는 값: 10초

---

### 1) 게임 페이지 활성화 시간

- 게임 페이지는 **총 30초 동안 활성화**된다.
- 기준 시점은 **서버에서 내려준 단계 시작 시간**이다.

---

### 2) 게임 시작 전(대기 상태) 흐름

- 사용자가 **게임 시작 버튼을 누르기 전**에는 대기 상태로 유지된다.
- 서버 기준 시작 시각으로부터 시간이 흐르며 아래 이벤트가 발생한다.

#### 2-1. 시작 유도 모달 노출

- **단계 시작 후 10초 시점(= 종료 20초 전)** 에
  - “게임 시작 버튼을 5초 안에 눌러주세요.” 안내 모달을 노출한다.
- 단, 아래 조건 중 하나라도 만족하면 모달을 띄우지 않는다.
  - 이미 타임아웃이 발생한 경우
  - 이미 게임이 시작된 경우
  - 게임 결과가 나왔을 경우

#### 2-2. 시작하지 않으면 타임아웃 처리

- 사용자가 **단계 시작 후 15초가 지나도록 게임을 시작하지 않으면** 타임아웃 처리한다.
- 즉, “페이지 활성화 30초” 중 절반(15초) 동안 시작하지 않으면 자동 탈락 처리된다.

---

### 3) 게임 시작 후(진행 상태) 흐름

- 사용자가 시작 버튼을 누르면 스톱워치가 동작하며 시간이 흐른다.
- 사용자는 원하는 시점에 “정지”를 눌러 게임을 종료한다.

#### 3-1. 정지 시 결과 계산 및 제출

- 정지 버튼을 누른 시점의 시간과 **목표 시간(7.777초)** 의 차이를 계산한다.
- 계산된 차이는 **절댓값**으로 변환하여 서버에 제출한다.
  - 예: 목표보다 늦거나 빨라도, “얼마나 차이 났는지”만 서버로 보낸다.

#### 3-2. 시작 후 15초 내 종료하지 않으면 타임아웃 처리

- 게임을 시작한 뒤에도 제한이 있다.
- **시작 후 15초 동안 정지(종료)하지 않으면** 타임아웃 처리한다.

---

### 4) 타임아웃 처리 규칙

- 타임아웃이 발생하면 즉시 아래 처리를 수행한다.
  - 진행 중인 게임을 중지한다.
  - 안내 모달을 닫는다.
  - 서버에 **10초**를 제출한다.

> 타임아웃 제출 값: `TIMEOUT_SECONDS = 10`
